<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Document</title>
</head>
<body>
    <dl>
    <dt><input type="checkbox" id="checkAll" /><label>全选</label><a href="javascript:;">反选</a></dt>
    <dd>
        <p><input type="checkbox" name="item" /><label>（一）</label></p>
        <p><input type="checkbox" name="item" /><label>（二）</label></p>
        <p><input type="checkbox" name="item" /><label>（三）</label></p>
        <p><input type="checkbox" name="item" /><label>（四）</label></p>
        <p><input type="checkbox" name="item" /><label>（五）</label></p>
        <p><input type="checkbox" name="item" /><label>（六）</label></p>
        <p><input type="checkbox" name="item" /><label>（七）</label></p>
        <p><input type="checkbox" name="item" /><label>（八）</label></p>
        <p><input type="checkbox" name="item" /><label>（九）</label></p>
        <p><input type="checkbox" name="item" /><label>（十）</label></p>
    </dd>    
</dl>
<center>1、切换全选/全不选文字；2、根据选中个数更新全选框状态；</center>
</body>
</html>
<script>
	var oA = document.getElementsByTagName("a")[0];	
	var oInput = document.getElementsByTagName("input");
	var oLabel = document.getElementsByTagName("label")[0];
	var isCheckAll = function ()
	{
		for (var i = 1, n = 0; i < oInput.length; i++)
		{
			oInput[i].checked && n++	
		}
		oInput[0].checked = n == oInput.length - 1;
		oLabel.innerHTML = oInput[0].checked ? "全不选" : "全选"
	};
	//全选/全不选
	oInput[0].onclick = function ()
	{
		for (var i = 1; i < oInput.length; i++)
		{
			oInput[i].checked = this.checked			
		}
		isCheckAll()
	};
	//反选
	oA.onclick = function ()
	{
		for (var i = 1; i < oInput.length; i++)
		{
			oInput[i].checked = !oInput[i].checked
		}
		isCheckAll()
	};
	//根据复选个数更新全选框状态
	for (var i = 1; i < oInput.length; i++)
	{
		oInput[i].onclick = function ()
		{
			isCheckAll()
		}	
	}	
</script>